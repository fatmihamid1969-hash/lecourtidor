<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Le Courtier Dor√© - Immobilier √† Mostaganem</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
body {margin:0; background:#000; color:#fff; font-family:'Poppins',sans-serif; text-align:center;}
header {background:#000; padding:20px 0; border-bottom:2px solid #b89146;}
header img {width:200px; height:auto; transition:transform 0.3s; cursor:pointer;}
header img:hover {transform:scale(1.05);}
h1 {color:#b89146; margin-top:10px; font-size:22px; letter-spacing:1px;}
.contact {margin:30px 20px; font-size:18px;}
.contact p {margin:10px 0; transition:color 0.3s;}
.contact p:hover {color:#b89146; cursor:pointer;}
.contact a {color:inherit; text-decoration:none; transition:color 0.3s;}
.contact a:hover {color:#ffd700;}
.btn {display:inline-block; margin:15px 10px; padding:10px 20px; border:2px solid #b89146; border-radius:8px; color:#b89146; font-weight:600; text-decoration:none; transition:all 0.3s;}
.btn:hover {background:#b89146; color:#000; transform:scale(1.05);}
.properties {margin:40px 20px; display:flex; flex-wrap:wrap; justify-content:center; gap:20px;}
.property-card {background:#111; border:2px solid #b89146; border-radius:10px; width:300px; overflow:hidden; transition:transform 0.3s, background 0.3s;}
.property-card:hover {transform:scale(1.05); background:#222;}
.property-images {display:flex; gap:4px; overflow-x:auto; margin-bottom:5px;}
.property-image {width:100%; max-width:120px; height:80px; object-fit:cover; border-radius:4px;}
.property-info {padding:15px; text-align:left;}
.property-info h3 {margin:0; color:#b89146; font-size:20px;}
.property-info p {margin:5px 0; font-size:16px; color:#fff;}
.property-info .price {font-weight:600; color:#ffd700; margin-top:5px;}
.property-info .contact-btn {display:inline-block; margin-top:10px; padding:8px 15px; border:2px solid #b89146; border-radius:8px; color:#b89146; text-decoration:none; font-weight:600; transition:all 0.3s;}
.property-info .contact-btn:hover {background:#b89146; color:#000; transform:scale(1.05);}
footer {border-top:2px solid #b89146; padding:15px; font-size:14px; color:#b89146;}
form input, form label {padding:8px; width:80%; margin:5px 0; border-radius:5px; border:none;}
form button {margin-top:10px;}
#images-preview {margin:10px auto; display:flex; gap:6px; justify-content:center; max-width:90%; flex-wrap:wrap;}
#images-preview img {max-width:100px; max-height:80px; border-radius:5px; border:1px solid #b89146;}
@media(max-width:600px){ h1{font-size:18px;} .contact{font-size:16px;} .btn{padding:8px 16px;} .property-card{width:90%;} }
</style>
</head>
<body>

<header>
<img src="logo.png" alt="Le Courtier Dor√©">
<h1>Le Courtier Dor√© - Agence Immobili√®re √† Mostaganem</h1>
</header>

<div class="contact">
<p>üìç Adresse : Mazagran, Quartier T√©l√©graphe, √† c√¥t√© de R√©sidence Mariem 2</p>
<p>üìû <a href="tel:+213557913512">0557 91 35 12</a> / <a href="tel:+213660652914">0660 65 29 14</a></p>
<a href="https://wa.me/213557913512" class="btn" target="_blank">üì± Contacter via WhatsApp</a>
</div>

<section class="properties" id="properties">
<!-- ÿßŸÑÿπŸÇÿßÿ±ÿßÿ™ ÿ≥ÿ™ÿ∏Ÿáÿ± ŸáŸÜÿß -->
</section>

<section class="add-property">
<h2 style="color:#b89146;">Ajouter une propri√©t√©</h2>
<form id="propertyForm" autocomplete="off">
<input type="text" id="title" placeholder="Titre de la propri√©t√©" required><br>
<input type="text" id="desc" placeholder="Description (Quartier, chambres...)" required><br>
<input type="text" id="price" placeholder="Prix en DA"><br>
<label style="color:#b89146;text-align:left;display:block;margin-top:10px;">T√©l√©charger plusieurs images :</label>
<input type="file" id="imageFiles" accept="image/*" multiple><br>
<input type="text" id="images" placeholder="Liens des images s√©par√©s par virgule (https://... , https://... )"><br>
<div id="images-preview"></div>
<button type="submit" class="btn">Ajouter la propri√©t√©</button>
</form>
</section>

<footer>¬© 2025 Le Courtier Dor√© - Tous droits r√©serv√©s</footer>

<script>
// ÿ™ÿÆÿ≤ŸäŸÜ ÿßŸÑÿπŸÇÿßÿ±ÿßÿ™ ŸÖÿ≠ŸÑŸäÿß ŸÅŸä ÿßŸÑŸÖÿ™ÿµŸÅÿ≠ ŸÅŸÇÿ∑
const container = document.getElementById('properties');
const imageInput = document.getElementById('imageFiles');
const imageUrlInput = document.getElementById('images');
const imagesPreview = document.getElementById('images-preview');

// ŸÖÿπÿßŸäŸÜÿ© ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿÆÿ™ÿßÿ±ÿ© ŸÖŸÜ ÿßŸÑÿ¨Ÿáÿßÿ≤
imageInput.addEventListener('change', function(e) {
  imagesPreview.innerHTML = '';
  const files = Array.from(e.target.files);
  if(files.length) {
    files.forEach(file => {
      const reader = new FileReader();
      reader.onload = function(ev) {
        const img = document.createElement('img');
        img.src = ev.target.result;
        imagesPreview.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
    imageUrlInput.value = '';
  }
});

// ŸÖÿπÿßŸäŸÜÿ© ÿßŸÑÿµŸàÿ± ŸÖŸÜ ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑
imageUrlInput.addEventListener('input', function() {
  imagesPreview.innerHTML = '';
  if(this.value) {
    const urls = this.value.split(',').map(url=>url.trim()).filter(Boolean);
    urls.forEach(url => {
      if(url.startsWith('http')) {
        const img = document.createElement('img');
        img.src = url;
        imagesPreview.appendChild(img);
      }
    });
    imageInput.value = '';
  }
});

// ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿπŸÇÿßÿ±ÿßÿ™ ŸÖŸÜ LocalStorage
function loadProperties() {
  container.innerHTML = "";
  const properties = JSON.parse(localStorage.getItem('properties') || "[]");
  properties.forEach((p, idx) => {
    const card = document.createElement('div');
    card.className = "property-card";
    let imagesHtml = '';
    if(Array.isArray(p.images) && p.images.length > 0) {
      imagesHtml = `<div class="property-images">${p.images.map(src=>`<img src="${src}" class="property-image" alt="photo">`).join('')}</div>`;
    }
    card.innerHTML = `
      ${imagesHtml}
      <div class="property-info">
        <h3>${p.title}</h3>
        <p>${p.desc}</p>
        ${p.price ? `<p class="price">Prix : ${p.price}</p>` : ''}
        <a href="https://wa.me/213557913512" class="contact-btn" target="_blank">üì± Contacter</a>
        <button onclick="deleteProperty(${idx})" style="margin-top:10px;background:#222;color:#b89146;border:1px solid #b89146;border-radius:4px;cursor:pointer;">Supprimer</button>
      </div>`;
    container.appendChild(card);
  });
}

// ÿ≠ÿ∞ŸÅ ÿπŸÇÿßÿ±
function deleteProperty(idx) {
  if(confirm('Voulez-vous vraiment supprimer cette propri√©t√© ?')) {
    const properties = JSON.parse(localStorage.getItem('properties') || "[]");
    properties.splice(idx, 1);
    localStorage.setItem('properties', JSON.stringify(properties));
    loadProperties();
  }
}

loadProperties();

// ÿ•ÿ∂ÿßŸÅÿ© ÿπŸÇÿßÿ± ÿ¨ÿØŸäÿØ ŸÖŸÜ ÿßŸÑÿ≤ÿ®ŸàŸÜ
document.getElementById('propertyForm').addEventListener('submit', (e)=>{
  e.preventDefault();
  const title = document.getElementById('title').value;
  const desc = document.getElementById('desc').value;
  const price = document.getElementById('price').value;
  let images = [];

  // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿµŸàÿ± ÿßŸÑŸÖÿ±ŸÅŸàÿπÿ©
  const files = Array.from(imageInput.files);
  if(files.length > 0) {
    const readers = [];
    files.forEach(file => {
      const reader = new FileReader();
      readers.push(new Promise((resolve) => {
        reader.onload = function(ev) {
          images.push(ev.target.result);
          resolve();
        };
        reader.readAsDataURL(file);
      }));
    });
    Promise.all(readers).then(() => {
      saveProperty({title, desc, price, images});
    });
    return;
  }

  // ŸÖÿπÿßŸÑÿ¨ÿ© ÿßŸÑÿµŸàÿ± ŸÖŸÜ ÿßŸÑÿ±Ÿàÿßÿ®ÿ∑
  if(imageUrlInput.value) {
    images = imageUrlInput.value.split(',').map(url=>url.trim()).filter(Boolean);
    saveProperty({title, desc, price, images});
    return;
  }

  // ŸÑÿß ÿµŸàÿ±
  saveProperty({title, desc, price, images});
});

function saveProperty(property) {
  const properties = JSON.parse(localStorage.getItem('properties') || "[]");
  properties.push(property);
  localStorage.setItem('properties', JSON.stringify(properties));
  document.getElementById('propertyForm').reset();
  imagesPreview.innerHTML = '';
  alert("Votre propri√©t√© a √©t√© ajout√©e!");
  loadProperties();
}
</script>

</body>
</html>
